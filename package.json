{
    "name": "todo_builder",
    "version": "1.0.0",
    "description": "Todo app builder project",
    "dependencies": {
        "merge-yaml-cli": "^1.1.2",
        "yamlinc": "^0.1.8",
        "jest": "^24.4.0",
        "watch": "^1.0.2",
        "eslint": "^5.15.1",
        "eslint-config-airbnb-base": "^13.1.0",
        "eslint-plugin-import": "^2.16.0"
    },
    "scripts": {
        "yaml": "node build_scripts/yaml.js",

        "pack:dev": "aws --region $npm_config_aws_dev_region cloudformation package --template-file build.yaml --s3-bucket $npm_config_aws_dev_bucket --output-template-file dev.yaml",
        "init:stack:dev": "aws --region $npm_config_aws_dev_region cloudformation deploy --template-file dev.yaml --stack-name $npm_config_aws_dev_stack --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DBUser=$npm_config_aws_dev_dbuser DBName=$npm_config_aws_dev_dbname DBPassword=$npm_config_aws_dev_dbpassword DataS3BucketName=$npm_config_aws_dev_databucket StageName=dev PassSalt=$npm_config_aws_dev_password_salt",
        "update:stack:dev": "aws --region $npm_config_aws_dev_region cloudformation deploy --template-file dev.yaml --stack-name $npm_config_aws_dev_stack --capabilities CAPABILITY_NAMED_IAM --parameter-overrides \"DeployVersion=$(date +'%s')\"",
        "describe:dev": "aws --region $npm_config_aws_dev_region cloudformation describe-stacks --stack-name $npm_config_aws_dev_stack",
        "init:dev": "npm run yaml && npm run pack:dev && npm run init:stack:dev",
        "update:dev": "npm run yaml && npm run pack:dev && npm run update:stack:dev",

        "pack:test": "aws --region $npm_config_aws_test_region cloudformation package --template-file build.yaml --s3-bucket $npm_config_aws_test_bucket --output-template-file test.yaml",
        "init:stack:test": "aws --region $npm_config_aws_test_region cloudformation deploy --template-file test.yaml --stack-name $npm_config_aws_test_stack --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DBUser=$npm_config_aws_test_dbuser DBName=$npm_config_aws_test_dbname DBPassword=$npm_config_aws_test_dbpassword DataS3BucketName=$npm_config_aws_test_databucket StageName=test PassSalt=$npm_config_aws_test_password_salt",
        "update:stack:test": "aws --region $npm_config_aws_test_region cloudformation deploy --template-file test.yaml --stack-name $npm_config_aws_test_stack --capabilities CAPABILITY_NAMED_IAM --parameter-overrides \"DeployVersion=$(date +'%s')\"",
        "describe:test": "aws --region $npm_config_aws_test_region cloudformation describe-stacks --stack-name $npm_config_aws_test_stack",
        "init:test": "npm run yaml && npm run pack:test && npm run init:stack:test",
        "update:test": "npm run yaml && npm run pack:test && npm run update:stack:test",
        "pack:production": "aws --region $npm_config_aws_production_region cloudformation package --template-file build.yaml --s3-bucket $npm_config_aws_production_bucket --output-template-file production.yaml",

        "init:stack:production": "aws --region $npm_config_aws_production_region cloudformation deploy --template-file production.yaml --stack-name $npm_config_aws_production_stack --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DBUser=$npm_config_aws_production_dbuser DBName=$npm_config_aws_production_dbname DBPassword=$npm_config_aws_production_dbpassword DataS3BucketName=$npm_config_aws_production_databucket StageName=production PassSalt=$npm_config_aws_production_password_salt",
        "update:stack:production": "aws --region $npm_config_aws_production_region cloudformation deploy --template-file production.yaml --stack-name $npm_config_aws_production_stack --capabilities CAPABILITY_NAMED_IAM --parameter-overrides \"DeployVersion=$(date +'%s')\"",
        "describe:production": "aws --region $npm_config_aws_production_region cloudformation describe-stacks --stack-name $npm_config_aws_production_stack",
        "init:production": "npm run yaml && npm run pack:production && npm run init:stack:production",
        "update:production": "npm run yaml && npm run pack:production && npm run update:stack:production",

        "pack:dev:w": "aws --region %npm_config_aws_dev_region% cloudformation package --template-file build.yaml --s3-bucket %npm_config_aws_dev_bucket% --output-template-file dev.yaml",
        "init:stack:dev:w": "aws --region %npm_config_aws_dev_region% cloudformation deploy --template-file dev.yaml --stack-name %npm_config_aws_dev_stack% --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DBUser=%npm_config_aws_dev_dbuser% DBName=%npm_config_aws_dev_dbname% DBPassword=%npm_config_aws_dev_dbpassword% DataS3BucketName=%npm_config_aws_dev_databucket% StageName=dev PassSalt=%npm_config_aws_dev_password_salt%",
        "update:stack:dev:w": "aws --region %npm_config_aws_dev_region% cloudformation deploy --template-file dev.yaml --stack-name %npm_config_aws_dev_stack% --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DeployVersion=%DATE%_%TIME%",
        "describe:dev:w": "aws --region %npm_config_aws_dev_region% cloudformation describe-stacks --stack-name %npm_config_aws_dev_stack%",
        "init:dev:w": "npm run yaml && npm run pack:dev:w && npm run init:stack:dev:w",
        "update:dev:w": "npm run yaml && npm run pack:dev:w && npm run update:stack:dev:w",

        "pack:test:w": "aws --region %npm_config_aws_test_region% cloudformation package --template-file build.yaml --s3-bucket %npm_config_aws_test_bucket% --output-template-file test.yaml",
        "init:stack:test:w": "aws --region %npm_config_aws_test_region% cloudformation deploy --template-file test.yaml --stack-name %npm_config_aws_test_stack% --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DBUser=%npm_config_aws_test_dbuser% DBName=%npm_config_aws_test_dbname% DBPassword=%npm_config_aws_test_dbpassword% DataS3BucketName=%npm_config_aws_test_databucket% StageName=test PassSalt=%npm_config_aws_test_password_salt%",
        "update:stack:test:w": "aws --region %npm_config_aws_test_region% cloudformation deploy --template-file test.yaml --stack-name %npm_config_aws_test_stack% --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DeployVersion=%DATE%_%TIME%",
        "describe:test:w": "aws --region %npm_config_aws_test_region% cloudformation describe-stacks --stack-name %npm_config_aws_test_stack%",
        "init:test:w": "npm run yaml && npm run pack:test:w && npm run init:stack:test:w",
        "update:test:w": "npm run yaml && npm run pack:test:w && npm run update:stack:test:w",

        "pack:production:w": "aws --region %npm_config_aws_production_region% cloudformation package --template-file build.yaml --s3-bucket %npm_config_aws_production_bucket% --output-template-file production.yaml",
        "init:stack:production:w": "aws --region %npm_config_aws_production_region% cloudformation deploy --template-file production.yaml --stack-name %npm_config_aws_production_stack% --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DBUser=%npm_config_aws_production_dbuser% DBName=%npm_config_aws_production_dbname% DBPassword=%npm_config_aws_production_dbpassword% DataS3BucketName=%npm_config_aws_production_databucket% StageName=production PassSalt=%npm_config_aws_production_password_salt%",
        "update:stack:production:w": "aws --region %npm_config_aws_production_region% cloudformation deploy --template-file production.yaml --stack-name %npm_config_aws_production_stack% --capabilities CAPABILITY_NAMED_IAM --parameter-overrides DeployVersion=%DATE%_%TIME%",
        "describe:production:w": "aws --region %npm_config_aws_production_region% cloudformation describe-stacks --stack-name %npm_config_aws_production_stack%",
        "init:production:w": "npm run yaml && npm run pack:production:w && npm run init:stack:production:w",
        "update:production:w": "npm run yaml && npm run pack:production:w && npm run update:stack:production:w",
        "eslint": "./node_modules/.bin/eslint ./database ./src",
        "eslint:w": ".\\node_modules\\.bin\\eslint .\\database .\\src"
    }
}
